<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>

<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<link rel="shortcut icon" href="img/logo/Logo.png" />

<title>DIGIT Marketplace</title>

<!-- Font Awesome -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">

<!-- Material Design Bootstrap -->
<link href="css/mdb.css" rel="stylesheet">

<!-- Date Time -->
<link href="js/dist/jquery.datetimepicker.min.css" rel="stylesheet">

<!-- <link href="js/time/demo.css" rel="stylesheet"> -->
<link href="js/time/bubble-slider.css" rel="stylesheet">
<link href="css/onofftoggle.css" rel="stylesheet">

<!-- Your custom styles (optional) -->
<link href="css/style.css" rel="stylesheet">
<link href="css/starrating.css" rel="stylesheet">
<link href="css/mediastyle.css" rel="stylesheet">

<style>
/* Don't Remove below style class. It is Fix for Model Panel Location Suggest' */
.pac-container {
	z-index: 100000;
}
</style>
</head>

<body>
	<!--Main Navigation-->
	<!--Header Starts Here-->
	<header>
		<nav
			class="navbar fixed-top navbar-expand-lg navbar-dark white scrolling-navbar pt-1 pb-1">
			<a class="navbar-brand pt-0 pb-0" href="#"> <img
				src="img/logo/Logo.png" alt="Digitmarket" class="w-100 pl-2 pr-2">
			</a>
			<div
				class="collapse navbar-collapse d-flex justify-content-end header-blockholder-custom"
				id="navbarSupportedContent">
				<div class="">
					<ul class="navbar-nav nav-flex-icons">
						<li class="nav-item ml-3"><a href="get-service-page"
							class="nav-link headerlabel-parent-custom"> <span
								class="headerLabels-custom"><small>Vendor Zone</small></span> <img
								src="img/icons/icnvendorzone.png" alt=""
								class="icon-common-size-custom">
						</a></li>
						<li class="nav-item ml-3"><a
							class="nav-link headerlabel-parent-custom"> <span
								class="headerLabels-custom"><small>Login/Sign Up</small></span>
								<img src="img/icons/icnsignup.png" alt=""
								class="icon-common-size-custom">
						</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>
	<!--Header Ends Here-->

	<!--Banner container-->
	<div class="row">
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
			<div class="imgContainer bannerContainer">

				<!--Banner Image-->
				<img class="resizableJodoBanner" src="img/banner/BannnerImage.jpg">

				<!--Breadcrumb container starts here-->
				<div class="topfixed" style="display: none;">
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<div class="breadcrumb-holder">
								<nav class="breadcrumb breadcrumb-custom">
									<div class="container">
										<a class="breadcrumb-item" href="#">Home</a> <a
											class="breadcrumb-item" href="#">Service Category</a> <span
											class="breadcrumb-item active">Services</span>
									</div>
								</nav>
							</div>
						</div>
					</div>
				</div>
				<!--Breadcrumb container ends here-->

				<div class="centered">
					<p class="centeredHeader text-center">Digit Market | Home
						Service</p>
					<p class="centeredHContent text-center">Find Your Service</p>
					<div class="w-50 md-form centeredInput">
						<small> <input type="text" id="form2"
							class="form-control search-input-custom"> <label
							for="form2">Search for a service</label>
						</small>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--/.Banner container Ends here-->

	<!-- Store Info Starts here -->
	<div class="container meta-info-container">

		<br />

		<!--Section: Features v.1-->
		<section class="text-center mb-3">

			<!--Section heading-->
			<h4 class="py-3 font-content-bold">Why is it so great?</h4>
			<!--Section description-->
			<p class="px-5 mb-2 pb-3 font-content-Normal font-size-regular">Lorem
				ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
				tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
				veniam.</p>

			<!--Grid row-->
			<div class="row">

				<!--Grid column-->
				<div class="col-md-4">
					<img src="img/icons/icnprofessional.png" alt="icnprofessional">
					<p class="font-content-bold mt-2 mb-2">Verified Professionals</p>
					<p class="font-content-Normal font-size-regular text-center">Lorem
						ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit
						maiores nam, aperiam minima assumenda deleniti hic.</p>
				</div>
				<!--Grid column-->

				<!--Grid column-->
				<div class="col-md-4">
					<img src="img/icons/icnguaanteed.png" alt="icnguaanteed">
					<p class="font-content-bold mt-2 mb-2">Guaranteed</p>
					<p class="font-content-Normal font-size-regular text-center">Lorem
						ipsum dolo aperiam minima assumenda deleniti hic.</p>
				</div>
				<!--Grid column-->

				<!--Grid column-->
				<div class="col-md-4">
					<img src="img/icons/icnontimearrival.png" alt="icnontimearrival">
					<p class="font-content-bold mt-2 mb-2">On Time Arrival</p>
					<p class="font-content-Normal font-size-regular text-center">Lorem
						ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit
						maiores nam, aperiam minima assumenda deleniti hic.</p>
				</div>
				<!--Grid column-->

			</div>
			<!--Grid row-->

		</section>
		<!--Section Ends here -->

	</div>
	<!-- Store Info Ends here -->

	<!--Main container Starts here -->
	<div id="root-category-container"
		class="container root-category-container">
		<br />
		<div class="category-item-container">
			<!-- Category item comes here -->
		</div>
		<br />
	</div>
	<!--/.Main container ends here -->

	<input type="hidden" id="selected-sub-cat-id" value="">
	<input type="hidden" id="selected-sub-cat-name" value="">

	<input type="hidden" id="selected-location-name" value="">
	<input type="hidden" id="selected-service-date" value="">
	<input type="hidden" id="selected-service-time" value="">

	<input type="hidden" id="selected-service-amount" value="">

	<input type="hidden" id="selected-service-id" value="">
	<input type="hidden" id="selected-service-name" value="">

	<input type="hidden" id="selected-service-desc" value="">
	<input type="hidden" id="selected-service-exp" value="">



	<!-- Modal panel for Geo Location -->
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalLabel" aria-hidden="true">

		<div class="modal-dialog" role="document">
			<div class="modal-content bg-modal-skin">

				<!-- Modal Header-->
				<div class="modal-header">
					<h6
						class="modal-title text-center font-content-bold font-size-regular"
						id="exampleModalLabel">Where do you require our service</h6>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>

				<!-- Model Body -->
				<span
					style="font-size: 10px; text-align: right; margin-right: 25px; color: red;">*All
					informations are mandatory</span>
				<div class="modal-body">

					<!-- Service Location and date time capturing form starts here -->
					<form class="navbar-form">
						<div class="row">
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<label for="locateme-modal"
									class="font-content-Normal font-size-light mb-0 text-left">City</label>
								<div class="input-group add-on locateme-modal"
									id="locateme-modal">

									<!-- Geo Location Google API Auto suggest starts here -->
									<input type="text" id="geocomplete" onclick="initGeo();"
										class="modal-input-custom form-control my-0 p-0 pl-2 font-size-light search_bar"
										placeholder="ex: Bangalore...">
									<!-- Geo Location Google API Auto suggest Ends here -->

									<!-- Geo Location Google API Locate Me Starts here  -->
									<div class="input-group-btn " style="display: block;"
										onclick="getLocation();">
										<div
											class="btn white font-content-Normal btn-sm m-0 modal-submit-custom">
											<img src="img/icons/icnlocateme.png" alt="icnlocateme"
												class="icon-common-size-custom">Locate me
										</div>
									</div>
									<!-- Geo Location Google API Locate Me Ends here  -->
								</div>
							</div>
						</div>
						<div class="my-3"></div>


						<div class="row">
							<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
								<label for="serviceadd-modal"
									class="font-content-Normal font-size-light mb-0 text-left">Service
									Address</label>
								<div class="serviceadd-modal">
									<input type="text"
										class="modal-input-custom form-control my-0 p-0 pl-2 font-size-light"
										id="serviceadd-modal" placeholder="House or Flat Number">
								</div>
							</div>
						</div>
					</form>
					<!-- Service Location and date time capturing form Ends here -->

					<div class="my-3"></div>
					<div class="row my-3">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
							<p class="font-content-Normal font-size-light mb-1">Schedule</p>
							<!-- Nav tabs -->
							<ul class="nav nav-tabs nav-justified" id="nav-tab-active-custom"
								role="tablist">
								<li class="nav-item"><a
									class="nav-link nav-modal-custom .nav-tabs font-size-regular active"
									data-toggle="tab" href="#panel1" role="tab" onload="show_dp();">Date</a>
								</li>
								<li class="nav-item"><a
									class="nav-link nav-modal-custom .nav-tabs font-size-regular"
									data-toggle="tab" href="#panel2" role="tab">Time</a></li>
							</ul>
							<!-- Tab panels -->
							<div class="tab-content card tab-content-custom">
								<!--Panel 1-->
								<div class="tab-pane fade in show active" id="panel1"
									role="tabpanel">
									<div id="demo2"></div>
								</div>
								<!--/.Panel 1-->
								<!--Panel 2-->
								<div class="tab-pane fade p-4" id="panel2" role="tabpanel">
									<div class="wrap-time">
										<label for="example-2"
											class="font-size-light font-content-Normal text-left font-content-dark-custom">Hour</label>
										<input class="bubble-slider" id="example-2" name="example-2"
											placeholder="0 - 12" type="number" min="0" max="12" value="0"
											data-toggle-bubble="true" data-thumb-color="#1C8EC5">

										<label for="example-3"
											class="font-size-light font-content-Normal text-left font-content-dark-custom">Minutes</label>
										<input class="bubble-slider" id="example-3" name="example-3"
											placeholder="0 - 60" type="number" min="0" max="60" value="0"
											data-toggle-bubble="true" data-thumb-color="#12C7AC">
									</div>
									<div class="my-3 py-3 text-center">
										<div class="switchContainer" id="switchContainer" data-li="0">
											<div class="switchBg" id="switchBg">
												<span class="liBg" id="liBg_1"></span>
											</div>
											<div class="timeMode">
												<span class="timeMode_AM">AM</span> <span
													class="timeMode_PM">PM</span>
											</div>
										</div>
									</div>
								</div>
								<!--/.Panel 2-->
							</div>
						</div>
					</div>
					<!--Recorded Date and Time display-->
					<div class="font-size-light font-content-dark-custom text-center">
						<span></span> <span id="date-text-ymd2"></span>
						<!--Append Time here via Javascript-->
						<span>at</span> <span id="date-text-ymd3">10:30 AM</span>
					</div>
				</div>
				<div class="modal-footer d-flex justify-content-center">
					<a
						class="btn btn-primary btn-sm mb-3 filter-services-by-location-btn"
						data-dismiss="modal">Filter</a>
				</div>
			</div>
		</div>
	</div>

	<!--Footer-->
	<footer
		class="page-footer center-on-small-only stylish-color-dark pt-0">
		<!--Copyright-->
		<div class="footer-copyright">
			<div class="container-fluid clearfix white-text">
				<span class="float-left"> DIGIT MARKET <small> ©<a
						href="http://www.thbs.com/">Torry Harris Business Solutions
							2018</a></small>
				</span> <span class="float-right mt-2"> <a
					class="btn-floating btn-sm btn-fb"><img src="img/icons/FB.png"
						class="w-75" alt=""></a> <a
					class="btn-floating btn-sm btn-gplus"><img
						src="img/icons/Google.png" class="w-75" alt=""></a> <a
					class="btn-floating btn-sm btn-li"><img
						src="img/icons/Linkedin.png" class="w-75" alt=""></a>
				</span>
			</div>
		</div>
		<!--/.Copyright-->
	</footer>
	<!--/.Footer-->

	<!-- SCRIPTS Starts here -->
	<script type="text/javascript"
		src="http://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyCk3he26GnFibRx4YEssQS_SKT_Qs6DnMI"></script>

	<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="js/jquery.geocomplete.js"></script>

	<!-- Bootstrap tooltips -->
	<script type="text/javascript" src="js/popper.min.js"></script>
	<!-- Bootstrap core JavaScript -->
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<!-- MDB core JavaScript -->
	<script type="text/javascript" src="js/mdb.min.js"></script>

	<script type="text/javascript"
		src="js/dist/jquery.datetimepicker.min.js"></script>
	<script type="text/javascript" src="js/datetime.js"></script>
	<script type="text/javascript" src="js/time/jquery.bubble-slider.js"></script>
	<script type="text/javascript" src="js/onofftoggle.js"></script>

	<!-- Custom JavaScript implementation-->
	<script src="js/app.js"></script>


	<script th:inline="javascript">
        /*<![CDATA[*/    
        	
        	/* You may get port and host through controller after reading application properties */
			var port = [[${port}]];
			var host = [[${host}]];    
			
			var coreURL = [[${coreURL}]]; 
			var webURL = [[${webURL}]]; 
			var serviceURL = [[${serviceURL}]]; 
			
			var storeId = "b9dbaabf4aa942a99038cc13d6534860"; 
			
			var serviceDetails = [{
				"categoryId": "50454a113a794d4f897bdf27323e208b",
				"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
				"serviceName": "NSW Service",
				"serviceStatus": "string",
				"vendorId": "string",
				"lastUpdatedOn": "2018-02-26 11:25:21",
				"serviceDescriptionProvidermap": [{
					"experienceInMonths": 8,
					"serviceBillingRatePerHour": 700,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}, {
					"experienceInMonths": 5,
					"serviceBillingRatePerHour": 2000,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}, {
					"experienceInMonths": 2,
					"serviceBillingRatePerHour": 400,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}]
			}, {
				"categoryId": "50454a113a794d4f897bdf27323e208b",
				"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
				"serviceName": "KSW Service",
				"serviceStatus": "string",
				"vendorId": "string",
				"lastUpdatedOn": "2018-02-26 11:25:21",
				"serviceDescriptionProvidermap": [{
					"experienceInMonths": 8,
					"serviceBillingRatePerHour": 700,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."

				}, {
					"experienceInMonths": 5,
					"serviceBillingRatePerHour": 2000,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}, {
					"experienceInMonths": 2,
					"serviceBillingRatePerHour": 400,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}]
			}, {
				"categoryId": "5866ddc59680443ba8e59852699faf70",
				"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
				"serviceName": "ABC Service",
				"serviceStatus": "string",
				"vendorId": "string",
				"lastUpdatedOn": "2018-02-26 11:25:21",
				"serviceDescriptionProvidermap": [{
					"experienceInMonths": 8,
					"serviceBillingRatePerHour": 700,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."

				}, {
					"experienceInMonths": 5,
					"serviceBillingRatePerHour": 2000,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}, {
					"experienceInMonths": 2,
					"serviceBillingRatePerHour": 400,
					"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b",
					"serviceMapId": "string",
					"serviceAvgRating": 4,
					"serviceOfferingDescription": "Uber’s a ride-sharing company."
				}]
			}];		
			
			
			
			var reviewsComments = [{
				"customer_id": "ee5358773-aa74-4ad1-bd08-0d9ea59e2289",
				"customerName": "Vishal",
				"reviewComments": "Cras sit amet nibh libero, in gravida nulla.in gravida nulla. Nulla",
				"reviewCommentsId": "dgg35328773-aa74-4ad1-bd08-0d9ea59e2289",
				"reviewDate": "2018-02-28T05:16:21.709Z",
				"reviewRating": 5,
				"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b"
			}, {
				"customer_id": "tt44-358773-aa74-4ad1-bd08-0d9ea59e2289",
				"customerName": "Rathish",
				"reviewComments": "ghs sdgsg sdgs dgsdg sdgsd gggggg sdgsdg ",
				"reviewCommentsId": "ee3553-328773-aa74-4ad1-bd08-0d9ea59e2289",
				"reviewDate": "2018-02-28T05:16:21.709Z",
				"reviewRating": 4,
				"serviceId": "9625558b-f4d9-468b-bff1-1bbff89cfa0b"
			}];

			
			
			
			
	 /*]]>*/
    </script>

	<script type="text/javascript">	
	    /* Using hard coded store id Need to read from the application/config properties */
		
		
		function initGeo(){	
			
			 $("#geocomplete").geocomplete()
	         .bind("geocode:result", function(event, result){  
	          //console.log(result);
	       	  locationName = result.formatted_address;        	  
	       	  locationLng = result.geometry.location.lng();
	       	  locationLat = result.geometry.location.lat();
	         })
	         .bind("geocode:error", function(event, status){
	           //$.log("ERROR: " + status);
	         })
	         .bind("geocode:multiple", function(event, results){
	          // $.log("Multiple: " + results.length + " results found");
	         });			
		}			
	
	
		function getLocation() {
		    if (navigator.geolocation) {
		        navigator.geolocation.watchPosition(showPosition);
		    } else { 
		    	$("#geocomplete").val("Geolocation is not supported by this browser.");	     
		    }
		}   		
		
		function showPosition(position) {		
		    var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);	   
	        var geocoder = geocoder = new google.maps.Geocoder();        
	        geocoder.geocode({ 'latLng': latlng }, function (results, status) {
	            if (status == google.maps.GeocoderStatus.OK) {            	
	                if (results[1]) {  
	                	var currentCity = results[1].address_components[5].long_name+', '+results[1].address_components[7].long_name+', '+results[1].address_components[8].long_name+', '+results[1].address_components[9].long_name;
	                	console.log(JSON.stringify());
	                    $("#geocomplete").val(currentCity);
	                }
	            }
	        });				
		}
		
		
	
		function initSubCategory(){	
			
			$(".sub-cat-item").click(function() {  					
				var subCatId = $(this).attr("id");					
				$("#selected-sub-cat-id").val(subCatId);	
				
				var subCatName = $(this).attr("name");					
				$("#selected-sub-cat-name").val(subCatName);					
				
			});			
					
			$(".filter-services-by-location-btn").click(function() {  			
				var selectedSubCatId = $("#selected-sub-cat-id").val();
				//Load List Services View page			
				var container = "root-category-container";
				var listServiceWebURL = webURL + "/list-service/"+selectedSubCatId;					
				callAjax(listServiceWebURL, container, "GET");
				
				// Manipulate List Services View page
				$(".topfixed").css("display","block");
				$(".meta-info-container").css("display","none");				
				$(".root-category-container").removeClass("container").addClass("container-fluid");	
				
				
				//Capture the Service related data like location, data and time
				var cityLoc = $("#geocomplete").val();
				var serviceAddressLoc = $("#serviceadd-modal").val();
				var serviceDate = $("#date-text-ymd2").text();
				var serviceTime = $("#date-text-ymd3").text();	
				
				//Retaining values in hidden field
				$("#selected-location-name").val(serviceAddressLoc);
				$("#selected-service-date").val(serviceDate);
				$("#selected-service-time").val(serviceTime);					
				
				// Capture the clicked Sub cat ID
				var subCatId = $("#selected-sub-cat-id").val();
				
				var location = "Bengaluru";
				
				// Load service based on subcat id and location
				loadServicesBySubCatIdAndLoc(subCatId,location);			
			
			});	
		}
		
		function loadServicesBySubCatIdAndLoc(subCatId,location){		
			// Need to change the hard code data and update the URL							
			var catLocServiceURL = serviceURL + "/servicedetails/subcat/"+subCatId+"/location/"+location;

			$.ajax({
				url : catLocServiceURL,
				type : "GET",
				crossDomain : true,
				timeout : 50000,
				success : function(response) {
					//TODO:FIX ME 
					// Note : Using JSON not the actual response since service response is not ready yet!
					populatedServices(serviceDetails);
					console.log("SUCCESS: ", serviceDetails);
					initServiceDesc();					
				},
				error : function(xhr, status, error) {
					console.log("ERROR: ", error);
				}
			});			
		}
		
		
		function populatedServices(response){				
		
			var subCatServiceItem = "";
		    var finalServiceStr = "";
			for (var i = 0; i < response.length; i++) {
				
				// No Need to check the subcategory id as we are filtering in the service call only
				
				var serviceId = response[i].serviceId;		
				
				subCatServiceItem = `<div id="`+response[i].serviceId+`" name="`+ response[i].serviceName +`"  class="row pl-3 pr-3 sub-cat-service-item">
					<div class="media w-100 parentboxholder">
						<div class="parentbox rgba-grey-light">
							<div class="childbox">
								<img class="d-flex rounded-circle" src="img/banner/Makeup.jpg"
									alt="Generic placeholder image">
							</div>
						</div>
						<div class="media-body text-left p-3 py-4">
							<h6 class="d-flex mb-0 mt-0 font-content-bold">
								<div class="mr-auto">`+response[i].serviceName+`</div>
							</h6>
							<p class="mb-0 font-content-Normal font-content-justify">
								<small id="service-desc-`+response[i].serviceId+`">`+response[i].serviceDescriptionProvidermap[i].serviceOfferingDescription+`</small>
							</p>
							 <div class="m-3"></div>
							<div class="row">							
										
										 <div class="ml-3 font-content-Normal experience-content-custom">
			                                <p class="mb-0 font-content-bold" id="service-exp-`+response[i].serviceId+`">`+response[i].serviceDescriptionProvidermap[i].experienceInMonths+`<small class="font-content-Normal">years</small></p>
			                                <p class="mb-0"><small class="font-content-Normal">Experience</small></p>
			                            </div>
								
										<div class="ml-3 font-content-Normal rating-content-custom">								
										<fieldset class="rating font-size-regular">
	                                    <input type="radio" id="star5" name="rating" value="5" />
	                                    <label class="full" for="star5" title="Awesome - 5 stars"></label>
	                                    <input type="radio" id="star4half" name="rating" value="4 and a half" />
	                                    <label class="half" for="star4half" title="Pretty good - 4.5 stars"></label>
	                                    <input type="radio" id="star4" checked name="rating" value="4" />
	                                    <label class="full" for="star4"  title="Pretty good - 4 stars"></label>
	                                    <input type="radio" id="star3half" name="rating" value="3 and a half" />
	                                    <label class="half" for="star3half" title="Meh - 3.5 stars"></label>
	                                    <input type="radio" id="star3" name="rating" value="3" />
	                                    <label class="full" for="star3" title="Meh - 3 stars"></label>
	                                    <input type="radio" id="star2half" name="rating" value="2 and a half" />
	                                    <label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label>
	                                    <input type="radio" id="star2" name="rating" value="2" />
	                                    <label class="full" for="star2" title="Kinda bad - 2 stars"></label>
	                                    <input type="radio" id="star1half" name="rating" value="1 and a half" />
	                                    <label class="half" for="star1half" title="Meh - 1.5 stars"></label>
	                                    <input type="radio" id="star1" name="rating" value="1" />
	                                    <label class="full" for="star1" title="Sucks big time - 1 star"></label>
	                                    <input type="radio" id="starhalf" name="rating" value="half" />
	                                    <label class="half" for="starhalf" title="Sucks big time - 0.5 stars"></label>
	                                </fieldset>
	                            <p class="mb-0"><small class="font-content-Normal">Rating</small></p>
	                           
								</div>
								 
							</div>
						</div>
						 <div class="parentboxBtn">
	                     <div class="childbox childbox-custom">
	                         <a href="#" class="mb-3 font-content-Normal headerlabel-parent-custom">
	                             <span class="font-content-bold" id="service-amount-hourly">`+response[i].serviceDescriptionProvidermap[i].serviceBillingRatePerHour+`</span><span class="font-content-bold">/</span><sub class="font-content-Normal font-size-light"><small>hr</small></sub>
	                             <p class="font-content-Normal font-size-light m-0"><small>Hourly Charges</small></p>
	                         </a>  
	                      
	                         <a  class="btn btn-primary btn-sm mb-3 waves-effect waves-light">Reviews</a>
	                     </div>
	                    
	                 </div>
					</div>
				</div>
				<div class="mt-3"></div>`;			
				
				finalServiceStr = finalServiceStr + subCatServiceItem;			
			}		
		  
			$('.sub-cat-services-container').html(finalServiceStr);
			
		}
	

		function populateCategory(response) {		
			var categoryFinalRowStr = "";			
			var categoryRowStartStr = "";		
			var categoryEndRowStr = "";			
			var catStartStr = "";		
			
			var catStartLeftStr = `<div class="row"><div class="col-lg-12">	<p class="font-content-bold">`;		
			
			var catStartRightStr = `</p><div class="MultiCarousel" data-items="1,2,4,4" data-slide="1"
				id="MultiCarousel" data-interval="1000">
				<div class="MultiCarousel-inner sub-category-item-container">`;					
			
			var subCatFinalStr = "";				
									
			var SubCatStartLeftOne = `<div class="item sub-cat-item"   data-toggle="modal" data-target="#exampleModal"`;  
			var SubCatStartLeftTwo = `"><div class="pad15"><div class="view overlay hm-white-slight"><img src="`;
							
			
			
			var SubCatStartRight = `" class="img-fluid categoryhome-Img-custom" alt=""> <a>
				<div class="mask"></div></a></div><p><small>`;	
													
			var SubCatEnd = `</small></p></div></div>`;		
			
			for (var i = 0; i < response[0].children.length; i++) {			
				
				 var catName = response[0].children[i].text;				 
				 
				 var subCatNameMiddle =` name="`+ catName +`" id="`;
				 
				 var leftDyanmicStr = catStartLeftStr + catName + catStartRightStr; 							
							
							<!-- Sub category item starts here -->						
							
						var middleDynamicStr = "";							
						
						if( response[0].children[i].children.length != 0) {						
							for (var j = 0; j < response[0].children[i].children.length; j++) {
								var SubCatStartLeft = SubCatStartLeftOne + subCatNameMiddle + response[0].children[i].children[j].id + SubCatStartLeftTwo;
								var SubCatStart = SubCatStartLeft + response[0].children[i].children[j].categoryImage + SubCatStartRight;
								var bStr = SubCatStart + response[0].children[i].children[j].text + SubCatEnd;						
								middleDynamicStr = middleDynamicStr + bStr;						
							}	
						}												
								
								<!-- Sub category item ends here -->							
							
					var carasualBtnStr = `<button class="leftLst"><</button><button class="rightLst">></button>`;	
					if(response[0].children.length <= 4){
						carasualBtnStr = "";
					}		
					var catEndStr = `</div> `+ carasualBtnStr +` </div></div></div>`;				
					var rightDyanmicStr = catEndStr;								
								
				var categoryRowStr = leftDyanmicStr + middleDynamicStr + rightDyanmicStr ;				
				
				 categoryFinalRowStr = categoryFinalRowStr + categoryRowStr;			
			}		
			
			$('.category-item-container').html(categoryFinalRowStr);		
	
		}	
	
	
	 	var pageRefresh = true;
		$(document).ready(
			function() {	
				
				// Need to change the hard code data
				var categotyURL = coreURL + "/v1/category?storeId="+storeId;

				$.ajax({
					url : categotyURL,
					type : "GET",
					crossDomain : true,
					timeout : 50000,
					success : function(response) {
						console.log("SUCCESS: ", response);
						populateCategory(response);
						
						// Reinitialize is Needed explicitely
						ResCarouselSize();
						loadSlider();
						initSubCategory();
						
					},
					error : function(xhr, status, error) {
						console.log("ERROR: ", error);
					}
				});
				
				function loadSlider(){
					$('.leftLst, .rightLst').click(function() {						
						var condition = $(this).hasClass("leftLst");
						if (condition)
							click(0, this);
						else
							click(1, this)
					});					
				}				
				
				var itemsMainDiv = ('.MultiCarousel');
				var itemsDiv = ('.MultiCarousel-inner');
				var itemWidth = "";				

				ResCarouselSize();

				$(window).resize(function() {
					ResCarouselSize();
				});

				//this function define the size of the items
				function ResCarouselSize() {
					var incno = 0;
					var dataItems = ("data-items");
					var itemClass = ('.item');
					var id = 0;
					var btnParentSb = '';
					var itemsSplit = '';
					var sampwidth = $(itemsMainDiv).width();
					var bodyWidth = $('body').width();
					$(itemsDiv)
							.each(
									function() {
										id = id + 1;
										var itemNumbers = $(this)
												.find(itemClass).length;
										btnParentSb = $(this)
												.parent().attr(
														dataItems);
										itemsSplit = btnParentSb
												.split(',');
										$(this).parent().attr(
												"id",
												"MultiCarousel"
														+ id);

										if (bodyWidth >= 1200) {
											incno = itemsSplit[3];
											itemWidth = sampwidth
													/ incno;
										} else if (bodyWidth >= 992) {
											incno = itemsSplit[2];
											itemWidth = sampwidth
													/ incno;
										} else if (bodyWidth >= 768) {
											incno = itemsSplit[1];
											itemWidth = sampwidth
													/ incno;
										} else {
											incno = itemsSplit[0];
											itemWidth = sampwidth
													/ incno;
										}
										$(this)
												.css(
														{
															'transform' : 'translateX(0px)',
															'width' : itemWidth
																	* itemNumbers
														});
										$(this)
												.find(itemClass)
												.each(
														function() {
															$(this)
																	.outerWidth(
																			itemWidth);
														});

										$(".leftLst").addClass(
												"over");
										$(".rightLst").removeClass(
												"over");
										
										

									});
				}

				//this function used to move the items
				function ResCarousel(e, el, s) {
					var leftBtn = ('.leftLst');
					var rightBtn = ('.rightLst');
					var translateXval = '';
					var divStyle = $(el + ' ' + itemsDiv).css(
							'transform');
					var values = divStyle.match(/-?[\d\.]+/g);
					var xds = Math.abs(values[4]);
					if (e == 0) {
						translateXval = parseInt(xds)
								- parseInt(itemWidth * s);
						$(el + ' ' + rightBtn).removeClass("over");

						if (translateXval <= itemWidth / 3) {
							translateXval = 0;
							$(el + ' ' + leftBtn).addClass("over");
						}
					} else if (e == 1) {
						var itemsCondition = $(el).find(itemsDiv)
								.width()
								- $(el).width();
						translateXval = parseInt(xds)
								+ parseInt(itemWidth * s);
						$(el + ' ' + leftBtn).removeClass("over");

						if (translateXval >= itemsCondition
								- itemWidth / 2) {
							translateXval = itemsCondition;
							$(el + ' ' + rightBtn).addClass("over");
						}
					}
					$(el + ' ' + itemsDiv).css('transform',
							'translateX(' + -translateXval + 'px)');
				}

				//It is used to get some elements from btn
				function click(ell, ee) {					
					
					var Parent = "#" + $(ee).parent().attr("id");
					var slide = $(Parent).attr("data-slide");
					ResCarousel(ell, Parent, slide);
				}

			});	   
		
	
		 function initServiceDesc(){
					
	 		$(".sub-cat-service-item").click(function() {  					
	 			// Get Service Description Page					
				var container = "root-category-container";
				var rootCategoryURL = webURL + "/service-desc";					
				callAjax(rootCategoryURL, container, "GET");				
				// Extract serviceCategory
				var serviceId = $(this).attr("id");	
				$("#selected-service-id").val(serviceId);
				
				var serviceName = $(this).attr("name");	
				$("#selected-service-name").val(serviceName);				
				
				var serviceAmountHourly= $("#service-amount-hourly").text();	
				$("#selected-service-amount").val(serviceAmountHourly);						
				
				var selSerDesc = $("#service-desc-"+serviceId).text();	
				var selSerExp = $("#service-exp-"+serviceId).text();					
				
				$("#selected-service-desc").val("");	
				$("#selected-service-exp").val("");	
				$("#selected-service-desc").val(selSerDesc);	
				$("#selected-service-exp").val(selSerExp);	
				
		        loadServicesDescriptionByByServiceId(serviceId);
			});			
		}
 
 
		function loadServicesDescriptionByByServiceId(serviceId){			 
							
				// Need to change the hard code data
				var categotyURL = coreURL + "/v1/category?storeId="+storeId;		
				$.ajax({
					url : categotyURL,
					type : "GET",
					crossDomain : true,
					timeout : 50000,
					success : function(response) {
						console.log("SUCCESS: ", response);				
						initCheckout();
						//populateServicesDescription(response);
						// Reinitialize is Needed explicitely					
						
					},
					error : function(xhr, status, error) {
						console.log("ERROR: ", error);
					}
				});
			 
			 
		 }  
 
		 function initCheckout(){
			 $(".book-selected-service").click(function() {  
				 
					var serviceId = $(this).attr("id");						
					// Get Service Description 						
					var container = "root-category-container";
					var rootCategoryURL = webURL + "/service-checkout";	
					
					callAjax(rootCategoryURL, container, "GET");	
					
			       
				});				 
		 }

</script>
</body>
</html>
